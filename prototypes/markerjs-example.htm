<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>markerjs example</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">

        <script src="https://unpkg.com/markerjs"></script>
        <style>
            #image {
                width: 100%;
            }
        </style>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <h1>markerjs example</h1>

        <div>
            pretend toolbar: 
            <button onclick="javascript:addHighlight()">add highlight</button>
            <button onclick="javascript:saveState()">save state</button>
        </div>
        
        <div>
            <img src="glass_negative_example.png" id="image"/>
        </div>
        
        <div>
            <hr/>
            save state info: <pre id="save-state"></pre>
            <hr/>
        </div>

        <script>
            var mark = new markerjs.MarkerArea(document.getElementById('image'));
            mark.show(function(dataUrl) {
                var res = document.getElementById("resultImage");
                res.src = dataUrl;
            });

            function addHighlight() {
                mark.addMarker(markerjs.HighlightMarker);
            }

            function saveState() {
                var markerAreaState = mark.getState();
                console.log(markerAreaState);

                var text = document.getElementById("save-state");
                text.innerText = JSON.stringify(markerAreaState, null, 2);

                text.focus();
            }
        </script>
    </body>
</html>